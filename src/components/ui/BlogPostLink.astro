---
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'blog'>;
  lang?: 'en' | 'pl';
}

const { post, lang = 'en' } = Astro.props;
const formattedDate = post.data.pubDate.toLocaleDateString(lang === 'pl' ? 'pl-PL' : 'en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<a href={`/${lang}/blog/${post.slug}`} class="group flex flex-row items-center justify-between py-6 border-b border-gray-100 hover:bg-gray-50/30 :bg-white/2 px-4 -mx-4 transition-colors duration-300 rounded-2xl">
  <div class="flex flex-col max-w-2xl pr-8">
    <h3 class="text-xl font-semibold text-gray-900 group-hover:text-gray-600 :text-gray-300 transition-colors mb-2">
      {post.data.title}
    </h3>
    <div class="text-sm font-medium text-gray-500 ">
      {formattedDate} <span class="mx-2 overflow-hidden text-gray-300 ">&bull;</span> {post.data.language.toUpperCase()}
    </div>
  </div>
  
  {/* Micro-interaction arrow */}
  <div class="text-gray-300 group-hover:text-gray-900 :text-white transform group-hover:translate-x-1 transition-all duration-300 shrink-0">
    <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
    </svg>
  </div>
</a>
